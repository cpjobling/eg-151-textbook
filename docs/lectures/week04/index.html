<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ben Clifford">
<meta name="dcterms.date" content="2024-10-22">

<title>5&nbsp; Introduction to Programming with C – EG-151 Microcontrollers 2024-2025</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../lectures/week05/index.html" rel="next">
<link href="../../lectures/week03/index.html" rel="prev">
<link href="../../logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="application/json" class="js-hypothesis-config">
{
  "theme": "clean",
  "openSidebar": false
}
</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../lectures/index.html">Microcontrollers Lectures</a></li><li class="breadcrumb-item"><a href="../../lectures/week04/index.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Introduction to Programming with C</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">EG-151 Microcontrollers 2024-2025</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/cpjobling/eg-151-textbook/tree/main/website/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">EG-151 Microcontrollers</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Course Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../intro/course_aims.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course Aims</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../intro/course_delivery.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course Delivery Method</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../lectures/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Microcontrollers Lectures</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">EG-151 Microcontrollers—Module Staff</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/week01/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to Microcontrollers and Microcontroller Architecture</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/data_representation/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction to Data Representation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/week02/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Architecture of the Atmel ATmega 328 Microcontroller</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/week03/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Introduction to Programming and Program Development</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/week04/index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Introduction to Programming with C</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/week05/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Interfacing to digital I/O with C</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/week06/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Interfacing to Analogue I/O with C</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/week07/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Introduction to Assembly Language</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/week08/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Microcontroller Architecture – Program Operation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lectures/week09/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Addressing Modes</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../lab_intro/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Laboratory Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lab_intro/assessment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Assessment of the Laboratory Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lab_intro/lab_work.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Laboratory Work in the Department of Electronic and Electrical Engineering</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lab_intro/lab_instruments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Laboratory Instruments</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lab_intro/lab_safety.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Laboratory Safety</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lab_intro/experiment0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Experiment: to construct an oscillator</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lab_intro/simulation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Simulation Exercise</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lab_intro/questions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Questions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lab_intro/construction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Construction Exercise - Continuity Tester</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lab_intro/soldering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Safe Soldering</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../labs/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Microcontroller Programming Laboratory</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../labs/get_started/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Getting Started</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../labs/lab01/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Experiment 1: Binary Counter</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../labs/lab02/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Experiment 2: Digital Input</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../labs/lab03/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Experiment 3: Analogue to Digital Conversion</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../labs/lab04/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Experiment 4: Arrays</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../labs/lab05/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Experiment 5: LCD Display Panel</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../projects/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mini Projects</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../projects/voltmeter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Voltmeter</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../projects/range_finder.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Ultrasonic Range Finder</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../projects/clock_timer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Clock Time</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../projects/weather_station.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Weather Station</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../appendix/appendix_a.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Other Data Representations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../appendix/programming_in_c.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Programming in C – from nothing to software</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-week04-intro" id="toc-sec-week04-intro" class="nav-link active" data-scroll-target="#sec-week04-intro">Introduction</a></li>
  <li><a href="#lecture-topics" id="toc-lecture-topics" class="nav-link" data-scroll-target="#lecture-topics">Lecture Topics</a></li>
  <li><a href="#sec-wk4-c-language" id="toc-sec-wk4-c-language" class="nav-link" data-scroll-target="#sec-wk4-c-language"><span class="header-section-number">5.1</span> C-language</a>
  <ul class="collapse">
  <li><a href="#sec-wk4-code-formatting" id="toc-sec-wk4-code-formatting" class="nav-link" data-scroll-target="#sec-wk4-code-formatting"><span class="header-section-number">5.1.1</span> Code formatting</a></li>
  <li><a href="#sec-wk4-comments" id="toc-sec-wk4-comments" class="nav-link" data-scroll-target="#sec-wk4-comments"><span class="header-section-number">5.1.2</span> C language comments</a></li>
  <li><a href="#sec-wk4-pre-processor-directives" id="toc-sec-wk4-pre-processor-directives" class="nav-link" data-scroll-target="#sec-wk4-pre-processor-directives"><span class="header-section-number">5.1.3</span> Pre-processor directives</a></li>
  <li><a href="#sec-wk4-statements" id="toc-sec-wk4-statements" class="nav-link" data-scroll-target="#sec-wk4-statements"><span class="header-section-number">5.1.4</span> Statements in C</a></li>
  <li><a href="#sec-wk4-variables" id="toc-sec-wk4-variables" class="nav-link" data-scroll-target="#sec-wk4-variables"><span class="header-section-number">5.1.5</span> Variables in C</a></li>
  <li><a href="#sec-wk4-operators" id="toc-sec-wk4-operators" class="nav-link" data-scroll-target="#sec-wk4-operators"><span class="header-section-number">5.1.6</span> Operators in C</a></li>
  </ul></li>
  <li><a href="#sec-wk4-flow-control" id="toc-sec-wk4-flow-control" class="nav-link" data-scroll-target="#sec-wk4-flow-control"><span class="header-section-number">5.2</span> Flow control</a></li>
  <li><a href="#sec-wk4-flow-control-ops" id="toc-sec-wk4-flow-control-ops" class="nav-link" data-scroll-target="#sec-wk4-flow-control-ops"><span class="header-section-number">5.2.1</span> Flow control structures in C</a></li>
  <li><a href="#flow-control-structures-to-be-considered" id="toc-flow-control-structures-to-be-considered" class="nav-link" data-scroll-target="#flow-control-structures-to-be-considered"><span class="header-section-number">5.2.2</span> Flow control structures to be considered</a></li>
  <li><a href="#sec-wk4-if" id="toc-sec-wk4-if" class="nav-link" data-scroll-target="#sec-wk4-if"><span class="header-section-number">5.2.3</span> The <em>if</em> statement in C</a></li>
  <li><a href="#sec-wk4-switch" id="toc-sec-wk4-switch" class="nav-link" data-scroll-target="#sec-wk4-switch"><span class="header-section-number">5.2.4</span> The <em>switch</em> statement in C</a></li>
  <li><a href="#sec-wk4-while" id="toc-sec-wk4-while" class="nav-link" data-scroll-target="#sec-wk4-while"><span class="header-section-number">5.2.5</span> The <em>while</em> statement in C</a></li>
  <li><a href="#sec-wk4-for" id="toc-sec-wk4-for" class="nav-link" data-scroll-target="#sec-wk4-for"><span class="header-section-number">5.2.6</span> The <em>for</em> statement in C</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a>
  <ul class="collapse">
  <li><a href="#on-canvas" id="toc-on-canvas" class="nav-link" data-scroll-target="#on-canvas">On Canvas</a></li>
  <li><a href="#any-questions" id="toc-any-questions" class="nav-link" data-scroll-target="#any-questions">Any Questions?</a></li>
  <li><a href="#next-time" id="toc-next-time" class="nav-link" data-scroll-target="#next-time">Next time</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/cpjobling/eg-151-textbook/edit/main/website/lectures/week04/index.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/cpjobling/eg-151-textbook/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../lectures/index.html">Microcontrollers Lectures</a></li><li class="breadcrumb-item"><a href="../../lectures/week04/index.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Introduction to Programming with C</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Introduction to Programming with C</span></h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Ben Clifford </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Welsh Centre for Printing and Coatings
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 22, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="notes">
<p><a href="../../slides/lecture05.html">Presentation version</a> of these <a href="#sec-week04-intro">notes</a>.</p>
</div>
<p><img src="pictures/week04_chapter_heading.png" class="img-fluid" style="width:100.0%" alt="lecture cover image showing architecture, some gates and an Arduino nano board"></p>
<section id="sec-week04-intro" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-week04-intro">Introduction</h2>
<p>C is a high-level structured programming language which is often used for writing microcontroller applications. This weeks lecture will cover good coding practices, C language operators and how they can be grouped as well as flow control structures.</p>
</section>
<section id="lecture-topics" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="lecture-topics">Lecture Topics</h2>
<p>In this chapter we will be looking at how to produce clear well commented programs; data transfer, arithmetic, logic and relational operators; and flow control structures including <code>if</code>, <code>switch-case</code>, <code>for</code> and <code>while</code>.</p>
<div class="columns">
<div class="column" style="width:25%;">
<p><img src="pictures/week04_contents_image.png" class="img-fluid" style="width:100.0%" data-img-alt="A decorative image showing code, a microntroller chip and the Arduino nano microcontroller board used in the lab component of this module."></p>
</div><div class="column" style="width:75%;">
<ul>
<li><a href="#sec-wk4-c-language" class="quarto-xref"><span>Section 5.1</span></a>: <a href="#sec-wk4-c-language">C-language</a>
<ul>
<li><a href="#sec-wk4-code-formatting" class="quarto-xref"><span>Section 5.1.1</span></a>: <a href="#sec-wk4-code-formatting">Code formatting</a></li>
<li><a href="#sec-wk4-comments" class="quarto-xref"><span>Section 5.1.2</span></a>: <a href="#sec-wk4-comments">Comments</a></li>
<li><a href="#sec-wk4-pre-processor-directives" class="quarto-xref"><span>Section 5.1.3</span></a>: <a href="#sec-wk4-pre-processor-directives">Pre-processor directives</a></li>
<li><a href="#sec-wk4-statements" class="quarto-xref"><span>Section 5.1.4</span></a>: <a href="#sec-wk4-statements">Statements</a></li>
<li><a href="#sec-wk4-variables" class="quarto-xref"><span>Section 5.1.5</span></a>: <a href="#sec-wk4-variables">Variables</a></li>
<li><a href="#sec-wk4-operators" class="quarto-xref"><span>Section 5.1.6</span></a>: <a href="#sec-wk4-operators">Operators</a></li>
</ul></li>
<li><a href="#sec-wk4-flow-control" class="quarto-xref"><span>Section 5.2</span></a>: <a href="#sec-wk4-flow-control">Flow control</a>
<ul>
<li><a href="#sec-wk4-if" class="quarto-xref"><span>Section 5.2.3</span></a>: <a href="#sec-wk4-if">If statement</a></li>
<li><a href="#sec-wk4-switch" class="quarto-xref"><span>Section 5.2.4</span></a>: <a href="#sec-wk4-switch">Switch statement</a></li>
<li><a href="#sec-wk4-while" class="quarto-xref"><span>Section 5.2.5</span></a>: <a href="#sec-wk4-while">While statement</a></li>
<li><a href="#sec-wk4-for" class="quarto-xref"><span>Section 5.2.6</span></a>: <a href="#sec-wk4-for">For statement</a></li>
</ul></li>
</ul>
</div>
</div>
</section>
<section id="sec-wk4-c-language" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="sec-wk4-c-language"><span class="header-section-number">5.1</span> C-language</h2>
<p>Code Formatting, comments, pre-processor directives, statements and operators</p>
<hr>
<section id="sec-wk4-code-formatting" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1" class="anchored" data-anchor-id="sec-wk4-code-formatting"><span class="header-section-number">5.1.1</span> Code formatting</h3>
<div class="incremental">
<ol class="incremental" type="1">
<li>Write comments that explain what the program does.</li>
<li>Use descriptive names for variables and functions.</li>
<li>Use tabs to indent nested code blocks.</li>
<li>Give each class/function one purpose.</li>
<li>Delete unnecessary/redundant code.</li>
<li>Readability is more important than cleverness.</li>
<li>Adopt and maintain a consistent coding style.</li>
<li>Write good comments.</li>
<li>Refactor, refactor, refactor.</li>
<li>Take regular backups and implement version control.</li>
</ol>
</div>
<hr>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">/*</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="co"> * This is a demonstration program for EG-151 microcontrollers that shows a tidy well commented program.</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="co"> * This program asks a user to input two numbers and uses the function findmax to determine which is the largest.</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co"> *</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co"> * Author: Ben Clifford</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co"> * Date: 12/10/2019</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co"> */</span></span>
<span id="cb1-8"><a href="#cb1-8"></a></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co">// include library files</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span><span class="pp"> </span><span class="co">//Required for scanf and printf</span></span>
<span id="cb1-11"><a href="#cb1-11"></a></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co">// main function</span></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-14"><a href="#cb1-14"></a>    <span class="co">// Variable Declarations</span></span>
<span id="cb1-15"><a href="#cb1-15"></a>    <span class="dt">int</span> num1<span class="op">,</span> num2<span class="op">,</span> maxnum<span class="op">;</span></span>
<span id="cb1-16"><a href="#cb1-16"></a>    <span class="co">// Function Declarations</span></span>
<span id="cb1-17"><a href="#cb1-17"></a>    <span class="dt">int</span> findmax<span class="op">(</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">);</span></span>
<span id="cb1-18"><a href="#cb1-18"></a></span>
<span id="cb1-19"><a href="#cb1-19"></a>    printf<span class="op">(</span><span class="st">"Enter the first number: "</span><span class="op">);</span></span>
<span id="cb1-20"><a href="#cb1-20"></a>    scanf<span class="op">(</span><span class="st">"</span><span class="sc">%u</span><span class="st">"</span><span class="op">,</span> <span class="op">&amp;</span>num1<span class="op">);</span></span>
<span id="cb1-21"><a href="#cb1-21"></a>    printf<span class="op">(</span><span class="st">"Enter the second number: "</span><span class="op">);</span></span>
<span id="cb1-22"><a href="#cb1-22"></a>    scanf<span class="op">(</span><span class="st">"</span><span class="sc">%u</span><span class="st">"</span><span class="op">,</span> <span class="op">&amp;</span>num2<span class="op">);</span></span>
<span id="cb1-23"><a href="#cb1-23"></a></span>
<span id="cb1-24"><a href="#cb1-24"></a>    <span class="co">/* invoke the function findmax passing numl and num2</span></span>
<span id="cb1-25"><a href="#cb1-25"></a><span class="co">     * as arguments and storing the result in the variable maxnum</span></span>
<span id="cb1-26"><a href="#cb1-26"></a><span class="co">     */</span></span>
<span id="cb1-27"><a href="#cb1-27"></a>    maxnum <span class="op">=</span> findmax<span class="op">(</span>num1<span class="op">,</span> num2<span class="op">);</span></span>
<span id="cb1-28"><a href="#cb1-28"></a>    printf<span class="op">(</span><span class="st">"The maximum number is </span><span class="sc">%u</span><span class="st">"</span><span class="op">,</span> maxnum<span class="op">);</span></span>
<span id="cb1-29"><a href="#cb1-29"></a><span class="op">}</span></span>
<span id="cb1-30"><a href="#cb1-30"></a></span>
<span id="cb1-31"><a href="#cb1-31"></a><span class="co">// findmax Function Definition</span></span>
<span id="cb1-32"><a href="#cb1-32"></a><span class="dt">int</span> findmax<span class="op">(</span><span class="dt">int</span> x<span class="op">,</span> <span class="dt">int</span> y<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-33"><a href="#cb1-33"></a>    <span class="dt">int</span> maximum_number<span class="op">;</span></span>
<span id="cb1-34"><a href="#cb1-34"></a>    <span class="cf">if</span> <span class="op">(</span>x <span class="op">&gt;=</span> y<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-35"><a href="#cb1-35"></a>        maximum_number <span class="op">=</span> x<span class="op">;</span></span>
<span id="cb1-36"><a href="#cb1-36"></a>    <span class="op">}</span></span>
<span id="cb1-37"><a href="#cb1-37"></a>    <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb1-38"><a href="#cb1-38"></a>        maximum_number <span class="op">=</span> y<span class="op">;</span></span>
<span id="cb1-39"><a href="#cb1-39"></a>    <span class="op">}</span></span>
<span id="cb1-40"><a href="#cb1-40"></a>    <span class="cf">return</span> maximum_number<span class="op">;</span></span>
<span id="cb1-41"><a href="#cb1-41"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<p><a href="https://onlinegdb.com/22mzCDQrU">Execute this code using <strong>onlinegdb.com</strong></a></p>
</div>
<hr>
</section>
<section id="sec-wk4-comments" class="level3" data-number="5.1.2">
<h3 data-number="5.1.2" class="anchored" data-anchor-id="sec-wk4-comments"><span class="header-section-number">5.1.2</span> C language comments</h3>
<div class="incremental">
<ul class="incremental">
<li>Comments are added to code in order to make the program easier to read and understand at a later time or by another reader.</li>
<li>When the compiler is reading the file, the comments are ignored.</li>
<li>Comments must follow a set of rules and a particular format.
<ul class="incremental">
<li>In the ‘C’ language comments are surrounded by <code>/* comment */</code> and can span multiple lines</li>
<li>… or start with <code>//</code> if they are on a single line.</li>
</ul></li>
</ul>
</div>
<hr>
<section id="examples-of-comments" class="level4" data-number="5.1.2.1">
<h4 data-number="5.1.2.1" class="anchored" data-anchor-id="examples-of-comments"><span class="header-section-number">5.1.2.1</span> Examples of comments</h4>
<div class="fragment">
<p>Single line comment <span class="math inline">\(\rightarrow\)</span> typically found after a statement</p>
</div>
<div class="fragment">
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb2-1"><a href="#cb2-1"></a>A <span class="op">=</span> <span class="dv">10</span><span class="op">;</span> <span class="co">// This line sets variable A to 10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Multi line comment <span class="math inline">\(\rightarrow\)</span> typically used at the start of a program or to detail a block of code or a function</p>
</div>
<div class="fragment">
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb3-1"><a href="#cb3-1"></a><span class="co">/* </span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co"> * This comment </span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co"> * spans multiple lines </span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co"> */</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
</section>
<section id="sec-wk4-pre-processor-directives" class="level3" data-number="5.1.3">
<h3 data-number="5.1.3" class="anchored" data-anchor-id="sec-wk4-pre-processor-directives"><span class="header-section-number">5.1.3</span> Pre-processor directives</h3>
<div class="incremental">
<ul class="incremental">
<li>The pre-processor is <strong>part of the compilation process</strong> and runs <em>before</em> the code is compiled.</li>
<li>The pre-processor looks for lines of <strong>code beginning with a <code>#</code></strong> and evaluates them before compilation.</li>
<li>There are also a number of <strong>predefined <em>macros</em></strong> which can be called and these are surrounded by “<code>__</code>” characters.</li>
<li>The most commonly used pre-processor directives, and also the ones we will be using, are <code>#include</code> and <code>#define</code>.</li>
</ul>
</div>
<div class="notes">
<p>Some pre-processor directives</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb4-1"><a href="#cb4-1"></a><span class="pp">#include</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="pp">#define</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="pp">#undef</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="pp">#if</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="pp">#elif</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="pp">#endif</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="pp">#ifdef</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="pp">#ifndef</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="pp">#error</span></span>
<span id="cb4-10"><a href="#cb4-10"></a>__FILE__</span>
<span id="cb4-11"><a href="#cb4-11"></a>__LINE__</span>
<span id="cb4-12"><a href="#cb4-12"></a>__DATE__</span>
<span id="cb4-13"><a href="#cb4-13"></a>__TIME__</span>
<span id="cb4-14"><a href="#cb4-14"></a>__TIMESTAMP__</span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="pp"># </span><span class="er">macro operator</span></span>
<span id="cb4-16"><a href="#cb4-16"></a><span class="pp">#</span><span class="er"># macro operator</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<section id="the-include-directive" class="level4" data-number="5.1.3.1">
<h4 data-number="5.1.3.1" class="anchored" data-anchor-id="the-include-directive"><span class="header-section-number">5.1.3.1</span> The <code>#include</code> directive</h4>
<p>The <strong><code>#include</code> directive</strong> is used to include <strong>header files</strong> which contain declarations of existing and frequently used functions that can be substituted into your program.</p>
<div class="notes">
<p>Header files may contain custom function definitions, common functions, secondary data type definitions, etc.</p>
</div>
<div class="fragment">
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb5-1"><a href="#cb5-1"></a><span class="co">/* </span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co">  This variant is used for system header files. </span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">  The pre-processor searches for a file named in a </span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">  standard list of system directories</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">*/</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="pp">#include </span><span class="im">&lt;header_file.h`&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb6-1"><a href="#cb6-1"></a><span class="co">/* </span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co">   This variant is used for header files of your own program. </span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co">   It searches for the file name first in the current directory, </span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">   then in the same directories used for system header files. </span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co">*/</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="pp">#include “my_library.h”</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="the-define-directive" class="level4" data-number="5.1.3.2">
<h4 data-number="5.1.3.2" class="anchored" data-anchor-id="the-define-directive"><span class="header-section-number">5.1.3.2</span> The <code>#define</code> directive</h4>
<div class="fragment">
<p>The <strong><code>#define</code> directive</strong> is used to <strong>define a macro</strong> – when the macro name appears in code it will be replaced with the definition stated.</p>
</div>
<div class="fragment">
<p>Example 1: define a value for a symbol</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb7-1"><a href="#cb7-1"></a><span class="pp">#define pi </span><span class="fl">3.1415</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="notes">
<p>In this example the programmer is stating that the letters <code>pi</code> represent the number 3.1415. Now, in the program they can write</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb8-1"><a href="#cb8-1"></a>A <span class="op">=</span> pi <span class="op">*</span> r <span class="op">*</span> r<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>and after pre-processing the compiler will see</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb9-1"><a href="#cb9-1"></a>A <span class="op">=</span> <span class="fl">3.1414</span> <span class="op">*</span> r <span class="op">*</span> r<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Example 2: define a block of reusable code</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb10-1"><a href="#cb10-1"></a><span class="pp">#define cube</span><span class="op">(</span><span class="pp">x</span><span class="op">)</span><span class="pp"> </span><span class="op">(</span><span class="pp">x</span><span class="op">)</span><span class="pp"> </span><span class="op">*</span><span class="pp"> </span><span class="op">(</span><span class="pp">x</span><span class="op">)</span><span class="pp"> </span><span class="op">*</span><span class="pp"> </span><span class="op">(</span><span class="pp">x</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="notes">
<p>If the programmer writes:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb11-1"><a href="#cb11-1"></a>v <span class="op">=</span> cube<span class="op">(</span><span class="dv">2</span><span class="op">)</span> <span class="co">// = 8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The compiler sees:</p>
<pre><code>v = (2) * (2) * (2)  // = 8</code></pre>
</div>
<hr>
</section>
</section>
<section id="sec-wk4-statements" class="level3" data-number="5.1.4">
<h3 data-number="5.1.4" class="anchored" data-anchor-id="sec-wk4-statements"><span class="header-section-number">5.1.4</span> Statements in C</h3>
<div class="incremental">
<ul class="incremental">
<li>C functions are made up of <strong>statements</strong>, each of which is <strong>terminated with a semicolon <code>;</code></strong>.</li>
<li><strong>A statement is made up of at least one <em>operator</em> and some <em>operands</em></strong>.</li>
<li><em>Operands</em> can be variables or data.</li>
</ul>
</div>
<div class="notes">
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Missing the semicolon is one of the most common causes of compilation errors in C programming.</p>
</div>
</div>
</div>
<hr>
<section id="c-functions" class="level4" data-number="5.1.4.1">
<h4 data-number="5.1.4.1" class="anchored" data-anchor-id="c-functions"><span class="header-section-number">5.1.4.1</span> C functions</h4>
<p><a href="#fig-week04-function-bd" class="quarto-xref">Figure&nbsp;<span>5.1</span></a> is a schematic diagram of the C function. You can think of it as something that takes some inputs (arguments) and returns some output.</p>
<div id="fig-week04-function-bd" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A schematic diagram of a function in C.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-week04-function-bd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="pictures/function_bd.png" class="img-fluid figure-img" alt="A schematic diagram of a function in C.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-week04-function-bd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.1: A schematic diagram of a function in C
</figcaption>
</figure>
</div>
<hr>
</section>
<section id="c-code-for-a-function" class="level4" data-number="5.1.4.2">
<h4 data-number="5.1.4.2" class="anchored" data-anchor-id="c-code-for-a-function"><span class="header-section-number">5.1.4.2</span> C code for a function</h4>
<p>A simple function is presented below.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb13-1"><a href="#cb13-1"></a><span class="co">/* </span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="co"> * This function is called a_function. </span></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="co"> * It takes no aguments (inputs).</span></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="co"> * It returns no output.  </span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="co"> */</span></span>
<span id="cb13-6"><a href="#cb13-6"></a><span class="dt">void</span> a_function<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="op">{</span></span>
<span id="cb13-8"><a href="#cb13-8"></a>    statement1<span class="op">;</span></span>
<span id="cb13-9"><a href="#cb13-9"></a>    statement2<span class="op">;</span></span>
<span id="cb13-10"><a href="#cb13-10"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<hr>
</section>
</section>
<section id="sec-wk4-variables" class="level3" data-number="5.1.5">
<h3 data-number="5.1.5" class="anchored" data-anchor-id="sec-wk4-variables"><span class="header-section-number">5.1.5</span> Variables in C</h3>
<p>The term <em>variable</em> is used for a name which describes a memory address. These names follow the same naming convention as used for functions<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</p>
<div class="fragment">
<p>For example, a variable named <code>num1</code> describes a particular memory address at which the first number is found and a second variable <code>num2</code> describes a second memory address while a third variable, <code>total</code>, is a third memory address.</p>
</div>
<div class="fragment">
<p>In a function we may then have the following statements:</p>
</div>
<div class="fragment">
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb14-1"><a href="#cb14-1"></a>num1 <span class="op">=</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>num2 <span class="op">=</span> <span class="dv">20</span><span class="op">;</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>total <span class="op">=</span> num1 <span class="op">+</span> num2<span class="op">;</span> <span class="co">// 30!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="notes">
<p>Each of the statements in the example above tells the computer system to <strong>assign/store a value into the memory address</strong> described by the variable. This is called <em>assignment</em>.</p>
<p>Assignment statements use the <strong>equals (<code>=</code>) sign</strong> to assign the value on the right of <code>=</code> to the variable on the left of <code>=</code><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
</div>
<hr>
</section>
<section id="sec-wk4-operators" class="level3" data-number="5.1.6">
<h3 data-number="5.1.6" class="anchored" data-anchor-id="sec-wk4-operators"><span class="header-section-number">5.1.6</span> Operators in C</h3>
<div class="fragment">
<p>Each statement or instruction is made up of operators and operands, where the <em>operator</em> represents an action and the <em>operands</em> represents the data.</p>
</div>
<div class="fragment">
<p>In C, the operators can be split into four categories based on the type of actions that they perform<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.</p>
</div>
<hr>
<p>They are:</p>
<div class="incremental">
<ol class="incremental" type="1">
<li><a href="#sec-wk4-data-transfer-ops">Data transfer operators</a></li>
<li><a href="#sec-wk4-arithmetic-ops">Arithmetic operators</a></li>
<li><a href="#sec-wk4-logical-ops">Logical operators</a>
<ul class="incremental">
<li><a href="#sec-wk4-bitwise-ops">Bitwise logical operators</a></li>
<li><a href="#sec-wk4-relational-ops">Relational operators</a></li>
</ul></li>
<li><a href="#sec-wk4-program-ctrl-ops">Program control operators</a></li>
</ol>
</div>
<div class="fragment">
<p>We will consider each of these in the following sections.</p>
</div>
<hr>
<section id="sec-wk4-data-transfer-ops" class="level4" data-number="5.1.6.1">
<h4 data-number="5.1.6.1" class="anchored" data-anchor-id="sec-wk4-data-transfer-ops"><span class="header-section-number">5.1.6.1</span> <strong>Data transfer</strong> operators in C</h4>
<p>In the C language, the data transfer operations are mostly covered by assignment without ever having to deal directly with the registers.</p>
<div class="fragment">
<p>For example:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb15-1"><a href="#cb15-1"></a>a <span class="op">=</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>b <span class="op">=</span> <span class="dv">20</span><span class="op">;</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>sum <span class="op">=</span> a <span class="op">+</span> b<span class="op">;</span></span>
<span id="cb15-4"><a href="#cb15-4"></a>PTFD <span class="op">=</span> sum<span class="op">;</span> <span class="co">// output total to PORT F</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="notes">
<p>This is because C ia high-level language and the compiler takes care of the details.</p>
</div>
<hr>
</section>
<section id="sec-wk4-arithmetic_ops" class="level4" data-number="5.1.6.2">
<h4 data-number="5.1.6.2" class="anchored" data-anchor-id="sec-wk4-arithmetic_ops"><span class="header-section-number">5.1.6.2</span> <strong>Arithmetic</strong> operators in C</h4>
<p>The order of arithmetic operations follow the <a href="https://en.wikipedia.org/wiki/Order_of_operations#Mnemonics">BODMAS (BIDMAS)</a> rules<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>.</p>
<div class="fragment">
<table class="caption-top table">
<thead>
<tr class="header">
<th><strong>Operator</strong></th>
<th><strong>Used for</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>+</code></td>
<td>Addition</td>
</tr>
<tr class="even">
<td><code>-</code></td>
<td>Subtraction</td>
</tr>
<tr class="odd">
<td><code>*</code></td>
<td>Multiplication</td>
</tr>
<tr class="even">
<td><code>/</code></td>
<td>Division</td>
</tr>
<tr class="odd">
<td><code>%</code></td>
<td>Modulus</td>
</tr>
<tr class="even">
<td><code>++</code></td>
<td>Increment</td>
</tr>
<tr class="odd">
<td><code>--</code></td>
<td>Decrement</td>
</tr>
</tbody>
</table>
</div>
<hr>
<section id="examples" class="level5">
<h5 class="anchored" data-anchor-id="examples">Examples</h5>
<p>Assume <code>a</code>, <code>b</code> and <code>c</code> are defined as variable of type integer (<code>int</code>)<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>.</p>
<div class="fragment">
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb16-1"><a href="#cb16-1"></a>a <span class="op">=</span> r <span class="op">*</span> <span class="dv">5</span> <span class="op">+</span> <span class="dv">6</span> <span class="op">/</span> <span class="dv">3</span><span class="op">;</span>    <span class="co">// -&gt; a = 12;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Brackets can be used to improve readability<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb17-1"><a href="#cb17-1"></a>b <span class="op">=</span> <span class="op">(</span><span class="fl">3.14</span> <span class="op">*</span> r <span class="op">*</span> r<span class="op">);</span>   <span class="co">// -&gt; b = 12 not 12.56!   </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>There are also special operators like <em>increment</em> and <em>decrement</em></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb18-1"><a href="#cb18-1"></a>c <span class="op">=</span> c<span class="op">++;</span>  <span class="co">// -&gt; c = c + 1</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>d <span class="op">=</span> d<span class="op">--;</span>  <span class="co">// -&gt; d = d - 1;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p>Assume <code>d</code> to <code>h</code> are defined as integer variables (<code>int</code>) and <code>i</code> as a floating point number (<code>float</code>):</p>
<div class="fragment">
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb19-1"><a href="#cb19-1"></a>d <span class="op">=</span> <span class="dv">5</span> <span class="op">/</span> <span class="dv">3</span><span class="op">;</span>    <span class="co">// -&gt; d = 1:  gives the whole part of the fraction</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>e <span class="op">=</span> <span class="dv">5</span> <span class="op">%</span> <span class="dv">3</span><span class="op">;</span>    <span class="co">// -&gt; e = 2: gives thremainder of the fraction</span></span>
<span id="cb19-3"><a href="#cb19-3"></a>f <span class="op">=</span> <span class="dv">6</span> <span class="op">%</span> <span class="dv">3</span><span class="op">;</span>    <span class="co">// -&gt; f = 0: gives 0 as there is no remainder</span></span>
<span id="cb19-4"><a href="#cb19-4"></a>g <span class="op">=</span> <span class="fl">5.5</span> <span class="op">/</span> <span class="dv">2</span><span class="op">;</span>  <span class="co">// -&gt; g = 2: float is converted to int</span></span>
<span id="cb19-5"><a href="#cb19-5"></a>h <span class="op">=</span> <span class="fl">5.5</span> <span class="op">%</span> <span class="dv">2</span><span class="op">;</span>  <span class="co">// -&gt; invalid – will not compile</span></span>
<span id="cb19-6"><a href="#cb19-6"></a>i <span class="op">=</span> <span class="fl">5.5</span> <span class="op">/</span> <span class="dv">2</span><span class="op">;</span>  <span class="co">// -&gt; i = 1.75    - evaluates correctly if i is defined as a float </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="notes">
<p>The same rules apply to multiplication operation.</p>
</div>
<hr>
</section>
</section>
<section id="sec-wk4-logical-ops" class="level4" data-number="5.1.6.3">
<h4 data-number="5.1.6.3" class="anchored" data-anchor-id="sec-wk4-logical-ops"><span class="header-section-number">5.1.6.3</span> <strong>Logical</strong> operators in C</h4>
<p>Logical operators are used in expressions which return <em>true</em> (<code>1</code>) or <em>false</em> (<code>0</code>).</p>
<div class="fragment">
<table class="caption-top table">
<thead>
<tr class="header">
<th><strong>Operator</strong></th>
<th><strong>Meaning</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>&amp;&amp;</code></td>
<td>Logical <em>and</em></td>
</tr>
<tr class="even">
<td><code>\|\|</code></td>
<td>Logical <em>or</em></td>
</tr>
<tr class="odd">
<td><code>!</code> .</td>
<td>Logical <em>not</em></td>
</tr>
</tbody>
</table>
</div>
<hr>
<section id="example-of-the-and-operator" class="level5">
<h5 class="anchored" data-anchor-id="example-of-the-and-operator">Example of the <em>and</em> operator (<code>&amp;&amp;</code>)</h5>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb20-1"><a href="#cb20-1"></a><span class="co">/* </span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="co"> * If the voltage is greater than 10 and the</span></span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="co"> * current is less than 20 the condition is true</span></span>
<span id="cb20-4"><a href="#cb20-4"></a><span class="co"> * and the value of the expression will be 1, </span></span>
<span id="cb20-5"><a href="#cb20-5"></a><span class="co"> * otherwise it is false and the value of the </span></span>
<span id="cb20-6"><a href="#cb20-6"></a><span class="co"> * expression will be 0.</span></span>
<span id="cb20-7"><a href="#cb20-7"></a><span class="co"> */</span></span>
<span id="cb20-8"><a href="#cb20-8"></a><span class="cf">if</span> <span class="op">((</span>voltage <span class="op">&gt;</span> <span class="dv">10</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="op">(</span>current <span class="op">&lt;</span> <span class="dv">20</span><span class="op">))</span> <span class="op">{...}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<hr>
</section>
<section id="example-of-the-or-operator" class="level5">
<h5 class="anchored" data-anchor-id="example-of-the-or-operator">Example of the <em>or</em> operator (<code>||</code>)</h5>
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb21-1"><a href="#cb21-1"></a><span class="co">/*</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="co"> *  If the voltage is greater than 10 or the</span></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="co"> *  current is greater than 20 the condition is</span></span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="co"> *  true and the value of the expression will be</span></span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="co"> *  1, otherwise it is false and the expression </span></span>
<span id="cb21-6"><a href="#cb21-6"></a><span class="co"> *  will be 0.</span></span>
<span id="cb21-7"><a href="#cb21-7"></a><span class="co"> */</span></span>
<span id="cb21-8"><a href="#cb21-8"></a><span class="cf">if</span><span class="op">((</span>voltage <span class="op">&gt;</span> <span class="dv">10</span><span class="op">)</span> <span class="op">||</span> <span class="op">(</span>current <span class="op">&gt;</span> <span class="dv">20</span><span class="op">))</span> <span class="op">{...}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<hr>
</section>
<section id="example-of-the-not-operator" class="level5">
<h5 class="anchored" data-anchor-id="example-of-the-not-operator">Example of the <em>not</em> operator (<code>!</code>)</h5>
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb22-1"><a href="#cb22-1"></a><span class="co">/* </span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="co"> *  The unary operator (!) is usually used to</span></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="co"> *  turn true into false and vice versa.</span></span>
<span id="cb22-4"><a href="#cb22-4"></a><span class="co"> */</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>c <span class="op">=</span> <span class="dv">0</span><span class="op">;</span>  <span class="co">// -&gt; c = 0 which is "false"</span></span>
<span id="cb22-6"><a href="#cb22-6"></a>d <span class="op">=</span> <span class="op">!</span>c<span class="op">;</span> <span class="co">// -&gt; d = 1 which is "true".</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<hr>
</section>
<section id="sec-wk4-bitwise-ops" class="level5">
<h5 class="anchored" data-anchor-id="sec-wk4-bitwise-ops"><strong>Bitwise logical</strong> operators in C</h5>
<p>In addition to the logical operators designed to evaluate multiple conditions there are <strong>bitwise logical operators</strong> which operate on the binary digits (bits) of their operands.</p>
<div class="fragment">
<table class="caption-top table">
<thead>
<tr class="header">
<th><strong>Operator</strong></th>
<th><strong>Used for</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>&amp;</code></td>
<td>bitwise AND</td>
</tr>
<tr class="even">
<td><code>|</code></td>
<td>bitwise OR</td>
</tr>
<tr class="odd">
<td><code>^</code></td>
<td>bitwise XOR</td>
</tr>
<tr class="even">
<td><code>~</code></td>
<td>bitwise NOT</td>
</tr>
<tr class="odd">
<td><code>&gt;&gt;</code></td>
<td>shift right</td>
</tr>
<tr class="even">
<td><code>&lt;&lt;</code></td>
<td>shift left</td>
</tr>
</tbody>
</table>
</div>
<hr>
<section id="example-of-the-bitwise-and-operator" class="level6">
<h6 class="anchored" data-anchor-id="example-of-the-bitwise-and-operator">Example of the bitwise and operator</h6>
<div class="fragment">
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb23-1"><a href="#cb23-1"></a>b <span class="op">=</span> <span class="bn">0xA3</span> <span class="op">&amp;</span> <span class="bn">0xD5</span><span class="op">;</span> <span class="co">// -&gt; b = 0x81</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p><span class="math display">\[
\begin{array}{lrr}
   &amp; 1010 &amp; 0111 \\
\&amp; &amp; 1101 &amp; 0101 \\\hline
   &amp; 1000 &amp; 0001
\end{array}
\]</span></p>
</div>
<hr>
</section>
<section id="example-of-the-bitwise-or-operator" class="level6">
<h6 class="anchored" data-anchor-id="example-of-the-bitwise-or-operator">Example of the bitwise or operator</h6>
<div class="fragment">
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb24-1"><a href="#cb24-1"></a>c <span class="op">=</span> <span class="bn">0xA3</span> <span class="op">|</span> <span class="bn">0xD5</span><span class="op">;</span> <span class="co">// -&gt; b = 0xF7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p><span class="math display">\[
\begin{array}{lrr}
   &amp; 1010 &amp; 0111 \\
|  &amp; 1101 &amp; 0101 \\\hline
   &amp; 1111 &amp; 0111
\end{array}
\]</span></p>
</div>
<hr>
</section>
<section id="example-of-the-bitwise-not-operator" class="level6">
<h6 class="anchored" data-anchor-id="example-of-the-bitwise-not-operator">Example of the bitwise not operator</h6>
<div class="fragment">
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb25-1"><a href="#cb25-1"></a>c <span class="op">=</span> <span class="op">~</span><span class="bn">0xA3</span><span class="op">;</span> <span class="co">// -&gt; c = 0x5C</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p><span class="math display">\[
\begin{array}{lrr}
\sim &amp; 1010 &amp; 0111 \\\hline
     &amp; 0101 &amp; 1100
\end{array}
\]</span></p>
</div>
<hr>
</section>
<section id="bitwise-operators-used-for-io-ports" class="level6">
<h6 class="anchored" data-anchor-id="bitwise-operators-used-for-io-ports">Bitwise operators used for I/O ports</h6>
<div class="notes">
<p>The use of these operators are important when working with microcontrollers, in particular in the case of I/O, as they can be used to mask bits of a port. This is useful in C as we have limited data transfer options, i.e.&nbsp;we have to read/write to an entire port (memory location) rather than an individual bit.</p>
</div>
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb26-1"><a href="#cb26-1"></a>PTAPE <span class="op">=</span> <span class="bn">0x0F</span><span class="op">;</span>       <span class="co">// bit pattern: 0000 1111</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>PTAD <span class="op">=</span> <span class="bn">0xF0</span><span class="op">;</span>        <span class="co">// bit pattern: 1111 0000</span></span>
<span id="cb26-3"><a href="#cb26-3"></a>PTAD <span class="op">=</span> PTAD <span class="op">|</span> <span class="bn">0x0C</span><span class="op">;</span> <span class="co">// bit pattern: 1111 1100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<p>Since XORing any bit with a 1 forces it to return the opposite value, it can be used to toggle the state of a port:</p>
</div>
<div class="fragment">
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb27-1"><a href="#cb27-1"></a>portA <span class="op">=</span> portA <span class="op">^</span> <span class="bn">0xFF</span><span class="op">;</span> <span class="co">// e.g. 0101 0110 -&gt; 1010 1001</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
</section>
<section id="sec-wk4-relational-ops" class="level5">
<h5 class="anchored" data-anchor-id="sec-wk4-relational-ops"><strong>Relational</strong> operators in C</h5>
<p>The final group of operators are the <strong>relational operators</strong> which are used to test a relationship between two variables or a variable and data.</p>
<div class="fragment">
<table class="caption-top table">
<thead>
<tr class="header">
<th><strong>Relational operator</strong></th>
<th><strong>Meaning</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>==</code></td>
<td>is equal to</td>
</tr>
<tr class="even">
<td><code>!=</code></td>
<td>is <em>not</em> equal to</td>
</tr>
<tr class="odd">
<td><code>&lt;</code></td>
<td>is less than</td>
</tr>
<tr class="even">
<td><code>&lt;=</code></td>
<td>is less than or equal to</td>
</tr>
<tr class="odd">
<td><code>&gt;</code></td>
<td>is greater than</td>
</tr>
<tr class="even">
<td><code>&gt;=</code></td>
<td>is greater than or equal to</td>
</tr>
</tbody>
</table>
</div>
<div class="notes">
<p>Example: “is x equal to 2?” would be written as <code>x == 2</code><a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a>.</p>
<p>Relational operators are most often used in the <em>expressions</em> used in the <em>conditions</em> of the flow control structures discussed in <a href="#sec-wk4-flow-control" class="quarto-xref"><span>Section 5.2</span></a>.</p>
</div>
<hr>
</section>
</section>
<section id="sec-wk4-program-ctrl-ops" class="level4" data-number="5.1.6.4">
<h4 data-number="5.1.6.4" class="anchored" data-anchor-id="sec-wk4-program-ctrl-ops"><span class="header-section-number">5.1.6.4</span> <strong>Program control</strong> operators in C</h4>
<p>These are discussed in <a href="#sec-wk4-flow-control" class="quarto-xref"><span>Section 5.2</span></a>.</p>
</section>
</section>
</section>
<section id="sec-wk4-flow-control" class="level2 center" data-background-image="pictures/week04_prog_lang_wallpaper.jpg" data-number="5.2">
<h2 data-background-image="pictures/week04_prog_lang_wallpaper.jpg" data-number="5.2" class="anchored" data-anchor-id="sec-wk4-flow-control"><span class="header-section-number">5.2</span> Flow control</h2>
<p>Flow control statements <code>if</code>, <code>for</code>, <code>while</code>, and <code>switch</code></p>
</section>
<div class="notes">
<p><img src="pictures/week04_prog_lang_wallpaper.jpg" class="img-fluid" alt="Decorative section background - showing code."></p>
</div>
<hr>
<section id="sec-wk4-flow-control-ops" class="level3" data-number="5.2.1">
<h3 data-number="5.2.1" class="anchored" data-anchor-id="sec-wk4-flow-control-ops"><span class="header-section-number">5.2.1</span> Flow control structures in C</h3>
<p><a href="#fig-wk4-flow-control-structures" class="quarto-xref">Figure&nbsp;<span>5.2</span></a> illustrates the flow control structures that are provided in the C language. We will illustrate the most commonly used<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a> in the following sections.</p>
<div id="fig-wk4-flow-control-structures" class="quarto-float quarto-figure quarto-figure-center anchored" alt="An organogram showing a classification of the flow control strucures provided by the C language.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-wk4-flow-control-structures-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="pictures/stuctures.png" class="img-fluid figure-img" alt="An organogram showing a classification of the flow control strucures provided by the C language.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-wk4-flow-control-structures-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.2: Classification of the flow control strucures provided by the C language.
</figcaption>
</figure>
</div>
</section>
<section id="flow-control-structures-to-be-considered" class="level3 notes" data-number="5.2.2">
<h3 data-number="5.2.2" class="anchored" data-anchor-id="flow-control-structures-to-be-considered"><span class="header-section-number">5.2.2</span> Flow control structures to be considered</h3>
<ol type="1">
<li><a href="#sec-wk4-if">The <em>if</em> statement</a>
<ul>
<li><a href="#sec-wk4-if-else">The <em>if-else</em> statement</a></li>
<li><a href="#sec-wk4-if-elseif-else">The <em>if-elseif-else</em> statement</a></li>
</ul></li>
<li><a href="#sec-wk4-switch">The <em>switch</em> statement</a></li>
<li><a href="#sec-wk4-while">The <em>while</em> statement</a>
<ul>
<li><a href="#sec-wk4-do-while">The <em>do-while</em> statement</a></li>
</ul></li>
<li><a href="#sec-wk4-for">The <em>for</em> statement</a>
<ul>
<li><a href="#sec-wk4-nested-for">Nested <em>for</em> statements</a></li>
</ul></li>
</ol>
</section>
<hr>
<section id="sec-wk4-if" class="level3" data-number="5.2.3">
<h3 data-number="5.2.3" class="anchored" data-anchor-id="sec-wk4-if"><span class="header-section-number">5.2.3</span> The <em>if</em> statement in C</h3>
<div class="fragment">
<p>The <strong><em>if</em> statement</strong> allows branching within code and can be used to check if a particular condition has been met.</p>
</div>
<hr>
<section id="flow-chart-of-the-if-statement" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="flow-chart-of-the-if-statement">Flow chart of the if statement</h4>
<div id="fig-wk4-if-statement" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A flow chart illustrating the structure of the if-statement.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-wk4-if-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="pictures/if.png" class="img-fluid figure-img" style="width:50.0%" alt="A flow chart illustrating the structure of the if-statement.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-wk4-if-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.3: A flow chart illustrating the structure of the <em>if</em> statement
</figcaption>
</figure>
</div>
<hr>
<p>The equivalent of the <em>if</em> statement illustrated in the <a href="#fig-wk4-if-statement" class="quarto-xref">Figure&nbsp;<span>5.3</span></a> is:</p>
<div class="fragment">
<div class="sourceCode" id="cb28"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb28-1"><a href="#cb28-1"></a>Statement_1<span class="op">;</span></span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="cf">if</span> <span class="op">(</span>expression <span class="op">!=</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span> <span class="co">// in C anything that is not 0 is true</span></span>
<span id="cb28-3"><a href="#cb28-3"></a>    Statement_2<span class="op">;</span></span>
<span id="cb28-4"><a href="#cb28-4"></a><span class="op">}</span></span>
<span id="cb28-5"><a href="#cb28-5"></a>Statement_3<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="notes">
<ul>
<li>At line 3, if the condition has been met, the sequence of statements in the following block (here just line 4) is executed.</li>
<li>If the condition is not met at line 3, then <code>Statement_2</code> (line 4) is not executed, and the program will branch over to the next statement outside of the flow control statement: here <code>Statement_3</code> (line 5).</li>
</ul>
</div>
<hr>
</section>
<section id="sec-wk4-if-else" class="level4" data-number="5.2.3.1">
<h4 data-number="5.2.3.1" class="anchored" data-anchor-id="sec-wk4-if-else"><span class="header-section-number">5.2.3.1</span> The <em>if-else</em> statement</h4>
<p>The <strong><em>if</em>-else statement</strong> allows one set of statements to be executed if the condition is met and an alternative set of statements ito be executed if the condition hasn’t been met.</p>
<hr>
</section>
<section id="flow-chart-of-the-if-else-statement" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="flow-chart-of-the-if-else-statement">Flow chart of the if-else statement</h4>
<div id="fig-wk4-if-else-statement" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A flow chart illustrating the structure of the if-else statement.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-wk4-if-else-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="pictures/if-else.png" class="img-fluid figure-img" style="width:75.0%" alt="A flow chart illustrating the structure of the if-else statement.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-wk4-if-else-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.4: A flow chart illustrating the structure of the <em>if-else</em> statement
</figcaption>
</figure>
</div>
<hr>
<p>The equivalent of the <em>if-else</em> statement illustrated in the <a href="#fig-wk4-if-else-statement" class="quarto-xref">Figure&nbsp;<span>5.4</span></a> is:</p>
<div class="fragment">
<div class="sourceCode" id="cb29"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb29-1"><a href="#cb29-1"></a>Statement_1<span class="op">;</span></span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="cf">if</span> <span class="op">(</span>expression <span class="op">!=</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span> <span class="co">// in C anything that is not 0 is true</span></span>
<span id="cb29-3"><a href="#cb29-3"></a>    Statement_2<span class="op">;</span></span>
<span id="cb29-4"><a href="#cb29-4"></a><span class="op">}</span></span>
<span id="cb29-5"><a href="#cb29-5"></a><span class="cf">else</span> <span class="op">{</span>                 <span class="co">// expression is false == 0</span></span>
<span id="cb29-6"><a href="#cb29-6"></a>    Statement_3<span class="op">;</span></span>
<span id="cb29-7"><a href="#cb29-7"></a><span class="op">}</span></span>
<span id="cb29-8"><a href="#cb29-8"></a>Statement_4<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="sec-wk4-if-elseif-else" class="level4" data-number="5.2.3.2">
<h4 data-number="5.2.3.2" class="anchored" data-anchor-id="sec-wk4-if-elseif-else"><span class="header-section-number">5.2.3.2</span> The <em>if-elseif-else</em> statement</h4>
<p>The third example of the <em>if</em> statement is the <strong><em>if-elseif-else</em> statement</strong> which allows multiple conditions to be tested and blocks of statements to be executed for each decision.</p>
<hr>
</section>
<section id="flow-chart-of-the-if-elseif-else-statement" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="flow-chart-of-the-if-elseif-else-statement">Flow chart of the if-elseif-else statement</h4>
<div id="fig-wk4-if-elseif-else-statement" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A flow chart illustrating the structure of the if-elseif-else statement.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-wk4-if-elseif-else-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="pictures/if-elseif-else.png" class="img-fluid figure-img" style="width:75.0%" alt="A flow chart illustrating the structure of the if-elseif-else statement.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-wk4-if-elseif-else-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.5: A flow chart illustrating the structure of the <em>if-elseif-else</em> statement
</figcaption>
</figure>
</div>
<hr>
<p>The equivalent of the <em>if-elseif-else</em> statement illustrated in the <a href="#fig-wk4-if-elseif-else-statement" class="quarto-xref">Figure&nbsp;<span>5.5</span></a> is:</p>
<div class="fragment">
<div class="sourceCode" id="cb30"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb30-1"><a href="#cb30-1"></a>Statement_1<span class="op">;</span></span>
<span id="cb30-2"><a href="#cb30-2"></a><span class="cf">if</span> <span class="op">(</span>expression1<span class="op">)</span> <span class="op">{</span>      <span class="co">// expression1 is true</span></span>
<span id="cb30-3"><a href="#cb30-3"></a>    Statement_2<span class="op">;</span></span>
<span id="cb30-4"><a href="#cb30-4"></a><span class="op">}</span></span>
<span id="cb30-5"><a href="#cb30-5"></a>elseif <span class="op">(</span>expression2<span class="op">)</span> <span class="op">{</span>  <span class="co">// expression2 is true</span></span>
<span id="cb30-6"><a href="#cb30-6"></a>    Statement_3<span class="op">;</span></span>
<span id="cb30-7"><a href="#cb30-7"></a><span class="op">}</span></span>
<span id="cb30-8"><a href="#cb30-8"></a><span class="cf">else</span> <span class="op">{</span>                  <span class="co">// neither expression1 nor expression2 is true</span></span>
<span id="cb30-9"><a href="#cb30-9"></a>    Statement_4<span class="op">;</span></span>
<span id="cb30-10"><a href="#cb30-10"></a><span class="op">}</span></span>
<span id="cb30-11"><a href="#cb30-11"></a>Statement_5<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
</section>
<section id="sec-wk4-switch" class="level3" data-number="5.2.4">
<h3 data-number="5.2.4" class="anchored" data-anchor-id="sec-wk4-switch"><span class="header-section-number">5.2.4</span> The <em>switch</em> statement in C</h3>
<div class="incremental">
<ul class="incremental">
<li>The <em>switch</em> statement allows selection between several possible defined options.</li>
<li>The <strong>test condition</strong> is referred to as the <em>expression</em> and the choices are referred to as the <em>cases</em><a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a>.</li>
<li>Each switch expression will have a <strong>default choice</strong> for when no choices match the expression.</li>
<li>The switch statement represents an easier and more readable way of managing multiple if statements<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a></li>
</ul>
</div>
<hr>
<section id="flow-chart-of-the-switch-statement" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="flow-chart-of-the-switch-statement">Flow chart of the switch statement</h4>
<div id="fig-wk4-switch-statement" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A flow chart illustrating the structure of the switch statement.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-wk4-switch-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="pictures/switch.png" class="img-fluid figure-img" style="width:75.0%" alt="A flow chart illustrating the structure of the switch statement.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-wk4-switch-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.6: A flow chart illustrating the structure of the <em>switch</em> statement
</figcaption>
</figure>
</div>
<hr>
<p>The equivalent of the <em>switch</em> statement illustrated in the <a href="#fig-wk4-switch-statement" class="quarto-xref">Figure&nbsp;<span>5.6</span></a> is:</p>
<div class="fragment">
<div class="sourceCode" id="cb31"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb31-1"><a href="#cb31-1"></a>Statement<span class="op">;</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="cf">switch</span> <span class="op">(</span>expression1<span class="op">)</span> <span class="op">{</span> <span class="co">// branch according to the value of the expression</span></span>
<span id="cb31-3"><a href="#cb31-3"></a>    <span class="cf">case</span> case_1 <span class="op">:</span></span>
<span id="cb31-4"><a href="#cb31-4"></a>        code_block_1<span class="op">;</span></span>
<span id="cb31-5"><a href="#cb31-5"></a></span>
<span id="cb31-6"><a href="#cb31-6"></a>    <span class="cf">case</span> case_2 <span class="op">:</span></span>
<span id="cb31-7"><a href="#cb31-7"></a>        code_block_2<span class="op">;</span></span>
<span id="cb31-8"><a href="#cb31-8"></a>        </span>
<span id="cb31-9"><a href="#cb31-9"></a>    <span class="cf">case</span> case_3 <span class="op">:</span></span>
<span id="cb31-10"><a href="#cb31-10"></a>        code_block_3<span class="op">;</span></span>
<span id="cb31-11"><a href="#cb31-11"></a></span>
<span id="cb31-12"><a href="#cb31-12"></a>    <span class="co">// you can have any number of case statements</span></span>
<span id="cb31-13"><a href="#cb31-13"></a>    </span>
<span id="cb31-14"><a href="#cb31-14"></a>    <span class="cf">default</span> <span class="op">:</span> <span class="co">// optional</span></span>
<span id="cb31-15"><a href="#cb31-15"></a>        default_code_block<span class="op">;</span></span>
<span id="cb31-16"><a href="#cb31-16"></a><span class="op">}</span></span>
<span id="cb31-17"><a href="#cb31-17"></a>Statement_2<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="example-program-with-a-switch-statement" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="example-program-with-a-switch-statement">Example program with a switch statement</h4>
<div class="sourceCode" id="cb32"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb32-1"><a href="#cb32-1"></a><span class="dt">char</span> student_grade <span class="op">=</span> <span class="ch">'B'</span><span class="op">;</span></span>
<span id="cb32-2"><a href="#cb32-2"></a>printf<span class="op">(</span><span class="st">"Your grade was </span><span class="sc">%c</span><span class="st">: "</span><span class="op">,</span>student_grade<span class="op">);</span></span>
<span id="cb32-3"><a href="#cb32-3"></a><span class="cf">switch</span> <span class="op">(</span>student_grade<span class="op">)</span></span>
<span id="cb32-4"><a href="#cb32-4"></a><span class="op">{</span></span>
<span id="cb32-5"><a href="#cb32-5"></a>   <span class="cf">case</span> <span class="ch">'A'</span><span class="op">:</span></span>
<span id="cb32-6"><a href="#cb32-6"></a>     printf <span class="op">(</span><span class="st">"excellent!</span><span class="sc">\n</span><span class="st">"</span><span class="op">);</span></span>
<span id="cb32-7"><a href="#cb32-7"></a>     <span class="cf">break</span><span class="op">;</span> <span class="co">// prevents fall-through to default</span></span>
<span id="cb32-8"><a href="#cb32-8"></a>   <span class="cf">case</span> <span class="ch">'B'</span> <span class="op">:</span></span>
<span id="cb32-9"><a href="#cb32-9"></a>     printf<span class="op">(</span><span class="st">"very good!</span><span class="sc">\n</span><span class="st">"</span><span class="op">);</span></span>
<span id="cb32-10"><a href="#cb32-10"></a>     <span class="cf">break</span><span class="op">;</span></span>
<span id="cb32-11"><a href="#cb32-11"></a>   <span class="cf">case</span> <span class="ch">'C'</span> <span class="op">:</span></span>
<span id="cb32-12"><a href="#cb32-12"></a>     printf<span class="op">(</span><span class="st">"good!</span><span class="sc">\n</span><span class="st">"</span><span class="op">);</span></span>
<span id="cb32-13"><a href="#cb32-13"></a>     <span class="cf">break</span><span class="op">;</span></span>
<span id="cb32-14"><a href="#cb32-14"></a>   <span class="cf">case</span> <span class="ch">'D'</span> <span class="op">:</span></span>
<span id="cb32-15"><a href="#cb32-15"></a>     printf<span class="op">(</span><span class="st">"satisfactory!</span><span class="sc">\n</span><span class="st">"</span><span class="op">);</span></span>
<span id="cb32-16"><a href="#cb32-16"></a>     <span class="cf">break</span><span class="op">;</span></span>
<span id="cb32-17"><a href="#cb32-17"></a>   <span class="cf">case</span> <span class="ch">'E'</span> <span class="op">:</span></span>
<span id="cb32-18"><a href="#cb32-18"></a>     printf<span class="op">(</span><span class="st">"needs work!</span><span class="sc">\n</span><span class="st">"</span><span class="op">);</span></span>
<span id="cb32-19"><a href="#cb32-19"></a>     <span class="cf">break</span><span class="op">;</span></span>
<span id="cb32-20"><a href="#cb32-20"></a>   <span class="cf">case</span> <span class="ch">'F'</span> <span class="op">:</span> </span>
<span id="cb32-21"><a href="#cb32-21"></a>     printf<span class="op">(</span><span class="st">"sorry you failed!</span><span class="sc">\n</span><span class="st">"</span><span class="op">);</span></span>
<span id="cb32-22"><a href="#cb32-22"></a>     <span class="cf">break</span><span class="op">;</span></span>
<span id="cb32-23"><a href="#cb32-23"></a>   <span class="cf">default</span><span class="op">:</span> </span>
<span id="cb32-24"><a href="#cb32-24"></a>     printf<span class="op">(</span><span class="st">"Error! The grade </span><span class="sc">%c</span><span class="st"> is invalid</span><span class="sc">\n</span><span class="st">"</span><span class="op">,</span>student_grade<span class="op">);</span></span>
<span id="cb32-25"><a href="#cb32-25"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>If the <code>break</code> was not present, the program would drop down to the next case which is not usually what you want. Instead, you usually break out to the case statement as soon as a valid match is made.</p>
<p>You can play with this program here: <a href="https://onlinegdb.com/16BcOgMJD">grader</a>. See what happens when you remove <code>break</code>.</p>
</div>
<hr>
</section>
</section>
<section id="sec-wk4-while" class="level3" data-number="5.2.5">
<h3 data-number="5.2.5" class="anchored" data-anchor-id="sec-wk4-while"><span class="header-section-number">5.2.5</span> The <em>while</em> statement in C</h3>
<div class="fragment">
<p>In order to write a function that loops, i.e.&nbsp;execution of a sequence of statements until a particular condition is met, a <em>while</em> statement can be used.</p>
</div>
<div class="fragment">
<p>The while statement allows for a block of statements to be repeatedly executed as long as a <em>condition</em> is true.</p>
</div>
<hr>
<section id="flow-chart-of-the-while-statement" class="level4" data-number="5.2.5.1">
<h4 data-number="5.2.5.1" class="anchored" data-anchor-id="flow-chart-of-the-while-statement"><span class="header-section-number">5.2.5.1</span> Flow chart of the while statement</h4>
<div id="fig-wk4-while-statement" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A flow chart illustrating the structure of the while statement.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-wk4-while-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="pictures/while.png" class="img-fluid figure-img" style="width:50.0%" alt="A flow chart illustrating the structure of the while statement.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-wk4-while-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.7: A flow chart illustrating the structure of the <em>while</em> statement
</figcaption>
</figure>
</div>
<hr>
<p>The equivalent of the <em>while</em> statement illustrated in the <a href="#fig-wk4-while-statement" class="quarto-xref">Figure&nbsp;<span>5.7</span></a> is:</p>
<div class="fragment">
<div class="sourceCode" id="cb33"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb33-1"><a href="#cb33-1"></a><span class="cf">while</span> <span class="op">(</span>condition<span class="op">)</span> <span class="op">{</span></span>
<span id="cb33-2"><a href="#cb33-2"></a>    statements<span class="op">;</span></span>
<span id="cb33-3"><a href="#cb33-3"></a><span class="op">}</span></span>
<span id="cb33-4"><a href="#cb33-4"></a><span class="co">// end of while-loop</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="notes">
<p>The <code>statements</code> at line 2 are executed again and again until <code>condition</code> is false. Clearly, if the loop is to end, one of the <code>statements</code> needs to change the condition from <code>true</code> to <code>false</code>.</p>
</div>
<hr>
</section>
<section id="sec-wk4-do-while" class="level4" data-number="5.2.5.2">
<h4 data-number="5.2.5.2" class="anchored" data-anchor-id="sec-wk4-do-while"><span class="header-section-number">5.2.5.2</span> The <em>do-while</em> statement</h4>
<p>The <em>do-while</em> statement is almost identical to the while statement however the condition is checked after the statements have run.</p>
<hr>
</section>
<section id="flow-chart-of-the-do-while-statement" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="flow-chart-of-the-do-while-statement">Flow chart of the do-while statement</h4>
<div id="fig-wk4-do-while-statement" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A flow chart illustrating the structure of the do-while statement.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-wk4-do-while-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="pictures/do-while.png" class="img-fluid figure-img" style="width:50.0%" alt="A flow chart illustrating the structure of the do-while statement.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-wk4-do-while-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.8: A flow chart illustrating the structure of the <em>do-while</em> statement
</figcaption>
</figure>
</div>
<hr>
<p>The equivalent of the <em>do-while</em> statement illustrated in the <a href="#fig-wk4-do-while-statement" class="quarto-xref">Figure&nbsp;<span>5.8</span></a> is:</p>
<div class="fragment">
<div class="sourceCode" id="cb34"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb34-1"><a href="#cb34-1"></a><span class="cf">do</span> <span class="op">{</span></span>
<span id="cb34-2"><a href="#cb34-2"></a>    statements<span class="op">;</span></span>
<span id="cb34-3"><a href="#cb34-3"></a><span class="op">}</span></span>
<span id="cb34-4"><a href="#cb34-4"></a><span class="cf">while</span> <span class="op">(</span>condition<span class="op">);</span></span>
<span id="cb34-5"><a href="#cb34-5"></a><span class="co">// end of do-while loop</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="notes">
<p>The <code>statements</code> at line 2 are executed and then if <code>condition</code> is true, they are executed again.</p>
<p>This means that even if <code>condition</code> is <code>false</code>, the <code>statements</code> are executed one time.</p>
<p>When <code>condition</code> is false, the loop ends.</p>
</div>
<div class="notes">
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Be careful: it is very easy to get stuck in an infinite <em>while</em> loop if your test <code>condition</code> is always <code>true</code>.</p>
<p>For either loop to terminate, one of the <code>statements</code> needs to change the <code>condition</code> from <code>true</code> to <code>false</code>.</p>
</div>
</div>
</div>
<hr>
</section>
</section>
<section id="sec-wk4-for" class="level3" data-number="5.2.6">
<h3 data-number="5.2.6" class="anchored" data-anchor-id="sec-wk4-for"><span class="header-section-number">5.2.6</span> The <em>for</em> statement in C</h3>
<p>Another way of writing a while statement is to use a <strong><em>for</em> loop</strong>.</p>
<p>The term <em>loop</em> is used for the execution of a sequence of statements until a particular condition is met.</p>
<hr>
<section id="flow-chart-of-the-for-statement" class="level4" data-number="5.2.6.1">
<h4 data-number="5.2.6.1" class="anchored" data-anchor-id="flow-chart-of-the-for-statement"><span class="header-section-number">5.2.6.1</span> Flow chart of the for statement</h4>
<div id="fig-wk4-for-statement" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A flow chart illustrating the structure of the for statement.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-wk4-for-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="pictures/for.png" class="img-fluid figure-img" style="width:50.0%" alt="A flow chart illustrating the structure of the for statement.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-wk4-for-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.9: A flow chart illustrating the structure of the <em>for</em> statement
</figcaption>
</figure>
</div>
<hr>
<p>The equivalent of the <em>for</em> statement illustrated in <a href="#fig-wk4-for-statement" class="quarto-xref">Figure&nbsp;<span>5.9</span></a> is:</p>
<div class="fragment">
<div class="sourceCode" id="cb35"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb35-1"><a href="#cb35-1"></a><span class="cf">for</span> <span class="op">(</span>initialize counter<span class="op">;</span> counter <span class="op">&lt;</span> final value<span class="op">;</span> increment counter<span class="op">)</span> <span class="op">{</span></span>
<span id="cb35-2"><a href="#cb35-2"></a>    statements<span class="op">;</span></span>
<span id="cb35-3"><a href="#cb35-3"></a><span class="op">}</span></span>
<span id="cb35-4"><a href="#cb35-4"></a>statement<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="example-for-loop" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="example-for-loop">Example for loop</h4>
<p>Here is an actual <em>for</em> loop which solves the problem given in <a href="https://cpjobling.github.io/eg-151-textbook/lectures/week03/#sec-week03-sum-example">Lecture 3: Example 2</a>.</p>
<div class="fragment">
<p>It better illustrates how it might be written in a real program:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb36-1"><a href="#cb36-1"></a><span class="dt">int</span> sum<span class="op">,</span> x<span class="op">;</span></span>
<span id="cb36-2"><a href="#cb36-2"></a><span class="co">/* Add the numbers from 1 to 10 and print the sum */</span></span>
<span id="cb36-3"><a href="#cb36-3"></a><span class="cf">for</span> <span class="op">(</span>x <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> x <span class="op">&lt;</span> <span class="dv">11</span><span class="op">;</span> x<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb36-4"><a href="#cb36-4"></a>    sum <span class="op">=</span> sum <span class="op">+</span> x<span class="op">;</span></span>
<span id="cb36-5"><a href="#cb36-5"></a><span class="op">}</span></span>
<span id="cb36-6"><a href="#cb36-6"></a>printf<span class="op">(</span><span class="st">"sum = </span><span class="sc">%d</span><span class="st">"</span><span class="op">,</span> sum<span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="notes">
<p>The sequence performed by the for loop is:</p>
<ol type="1">
<li>Line 3:—the variable <code>x</code> is <em>initialized</em> to 0;</li>
<li>Line 4:—the statements in the <em>block</em><a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a> (line 4) are executed in sequence;</li>
<li>Line 3:—<code>x</code> is incremented by 1 (<code>x++</code> <span class="math inline">\(\rightarrow\)</span> <code>x = x + 1</code>);</li>
<li>Line 3:—the value of the <em>logical expression</em> <code>x &lt; 11</code> is evaluated: if it is <em>true</em> we return to step 2.</li>
<li>Line 3:—if <code>x &lt; 11</code> is false (i.e.&nbsp;when <code>x == 11</code>) the loop ends the result is printed to the screen (line 5).</li>
</ol>
</div>
<div class="fragment">
<p>To execute this program see <a href="https://onlinegdb.com/w3YDJCZcm">sum.c</a>.</p>
</div>
<hr>
</section>
<section id="equivalence-of-for-and-while" class="level4" data-number="5.2.6.2">
<h4 data-number="5.2.6.2" class="anchored" data-anchor-id="equivalence-of-for-and-while"><span class="header-section-number">5.2.6.2</span> Equivalence of <em>for</em> and <em>while</em></h4>
<p>You can <em>always</em> write a <em>for</em> loop using <em>while</em><a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a>.</p>
<div class="fragment">
<p>The previous example could be written:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb37-1"><a href="#cb37-1"></a><span class="dt">int</span> sum<span class="op">,</span> x<span class="op">;</span></span>
<span id="cb37-2"><a href="#cb37-2"></a><span class="co">// initialize x</span></span>
<span id="cb37-3"><a href="#cb37-3"></a>x <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> </span>
<span id="cb37-4"><a href="#cb37-4"></a><span class="cf">while</span> <span class="op">(</span>x <span class="op">&lt;</span> <span class="dv">11</span><span class="op">)</span> </span>
<span id="cb37-5"><a href="#cb37-5"></a><span class="op">{</span></span>
<span id="cb37-6"><a href="#cb37-6"></a>    sum <span class="op">=</span> sum <span class="op">+</span> x<span class="op">;</span></span>
<span id="cb37-7"><a href="#cb37-7"></a>    x<span class="op">++;</span> <span class="co">// increment x</span></span>
<span id="cb37-8"><a href="#cb37-8"></a><span class="op">}</span></span>
<span id="cb37-9"><a href="#cb37-9"></a>printf<span class="op">(</span><span class="st">"Sum = </span><span class="sc">%d</span><span class="st">"</span><span class="op">,</span>sum<span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>See <a href="https://onlinegdb.com/ME6B9jbo8">sum with while</a>.</p>
</div>
<div class="notes">
<p>It is arguable that the <em>for</em> loop is easier to read and understand.</p>
</div>
<hr>
</section>
<section id="sec-wk4-nested-for" class="level4" data-number="5.2.6.3">
<h4 data-number="5.2.6.3" class="anchored" data-anchor-id="sec-wk4-nested-for"><span class="header-section-number">5.2.6.3</span> Nested <em>for</em> statements</h4>
<div id="fig-wk4-nested-for-statement" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A flow chart illustrating the structure of the nested-for statement.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-wk4-nested-for-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="pictures/nested-for.png" class="img-fluid figure-img" style="width:50.0%" alt="A flow chart illustrating the structure of the nested-for statement.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-wk4-nested-for-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.10: A flow chart illustrating the structure of the nested <em>for</em> statement
</figcaption>
</figure>
</div>
<hr>
<p>The equivalent of the nested <em>for</em> statement illustrated in <a href="#fig-wk4-nested-for-statement" class="quarto-xref">Figure&nbsp;<span>5.10</span></a> is:</p>
<div class="fragment">
<div class="sourceCode" id="cb38"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb38-1"><a href="#cb38-1"></a><span class="cf">for</span> <span class="op">(</span>counter1 <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> counter1 <span class="op">&lt;</span> <span class="dv">60</span><span class="op">;</span> counter1<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb38-2"><a href="#cb38-2"></a>    <span class="cf">for</span> <span class="op">(</span>counter2 <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> counter2 <span class="op">&lt;</span> <span class="dv">60</span><span class="op">;</span> counter2<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb38-3"><a href="#cb38-3"></a>        statements<span class="op">;</span></span>
<span id="cb38-4"><a href="#cb38-4"></a>    <span class="op">}</span></span>
<span id="cb38-5"><a href="#cb38-5"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>See <a href="https://onlinegdb.com/Dhku-m1As">nested-counter</a> for an executable example of this program.</p>
</div>
<div class="notes">
<p>What could you use this nested for-loop for?</p>
</div>
</section>
</section>
<section id="summary" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="summary">Summary</h2>
<p>In this section we have:</p>
<div class="incremental">
<ul class="incremental">
<li>Covered basic concepts in coding to create clear and concise code as well as how to add comments to key lines of a program.</li>
<li>Introduced and discussed the different operators available to the C language programmer including how they are categorized.</li>
<li>Looked at the flow control statements available in the C language as well as how they are represented using flowchart diagrams and examples of the required syntax.</li>
</ul>
</div>
<hr>
<section id="on-canvas" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="on-canvas">On Canvas</h3>
<p>On the canvas course page, there is a series of short videos providing a history of the C language and a brief overview of programming paradigms as well as videos on functions and data type with a quiz to test your knowledge.</p>
<hr>
</section>
<section id="any-questions" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="any-questions">Any Questions?</h3>
<p>Please use the <a href="https://canvas.swansea.ac.uk/courses/52902/discussion_topics/435656">Course Question Board</a> on Canvas or take advantage of the lecturers’ office hours.</p>
<hr>
</section>
<section id="next-time" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="next-time">Next time</h3>
<ul>
<li><a href="../../lectures/week05">Interfacing to digital I/O with C</a></li>
</ul>
<hr>


</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Similarly to a function these variable names need to be declared before their use indicating their data type. More on this can be found in the self-directed study material for on <a href="https://canvas.swansea.ac.uk/courses/52902/pages/week-4-history-of-the-c-language-functions-and-data-types">Canvas for this week</a>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Please do not confuse <code>=</code> in C with equality in mathematics. After assignment, the value in the variable can change. In mathematics <span class="math inline">\(a = b\)</span> means that <span class="math inline">\(a\)</span> is always equal to <span class="math inline">\(b\)</span>. If we change the value of <span class="math inline">\(b\)</span>, the value of <span class="math inline">\(a\)</span> changes too. In C, <code>a = b</code> <em>copies</em> the current value of <code>b</code> into the storage assigned to <code>a</code>. If we change the value of <code>b</code> later, <code>a</code> will not change. To confuse matters still further, there is another use of the equals symbol: <code>==</code> means <em>is equal to</em> and is used in decision statements such as <em>is <code>num1</code> equal to <code>num2</code></em>?<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>We will see similar categories of operators when we come to look at assembly language. For example, for <em>data transfer</em> we have the register instructions <code>LDI</code> (load register immediate), <code>LDS</code> (load register from store), and <code>STS</code> (store register to store).)<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>BODMAS is a <em>mnemonic</em> which stands for <strong>B</strong>ackets, <strong>O</strong>perations, <strong>D</strong>ivision/<strong>M</strong>ultiplication, <strong>A</strong>ddition/<strong>S</strong>ubtraction. It describes the order of calculation in an expression that involves operators. Brackets, which are considered first, are used to disambiguate expressions that would otherwise produce wrong results. For example <code>a + b/c</code> is intrepreted as <span class="math inline">\(a + (b/c)\)</span> not <span class="math inline">\((a + b)/c\)</span>.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>An integer type means the value is a whole number (not a fractional number) that can be positive, negative, or zero.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>The execution of expression <code>3.14 * r * r</code> would most likely result in a decimal (<em>floating point</em>) number. This would be truncated to an integer before it is assigned to <code>b</code>. This is a common cause of mathematical error in programming.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p><strong>Important</strong>: don’t confuse the double equals sign (<code>==</code>) with <code>=</code>. The latter is used for assignment operations. <strong>That is <code>(x = 2)</code> is different from <code>(x == 2)</code></strong>.<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>Most of the unconditional branching statements such as <code>goto</code> (for an unconditional branch to a label) and <code>continue</code> (to ignore a condition without breaking out of a loop) are rarely used in modern programs. The <code>break</code> statement is often used in <em>switch statements</em> and occasionally for breaking out of a loop when some exit condition is met.<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>Each case must be a <em>constant expression</em>: i.e.&nbsp;a number or a character.<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p>i.e.&nbsp;avoids <code>if</code> – <code>elseif</code> – <code>elseif</code> – <code>elseif</code> – <code>elseif</code> – … – <code>else</code><a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11"><p>in the C language a <em>block</em> is any sequence of statements surrounded by curly brackets <code>{ ... }</code><a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12"><p>Indeed most c-compilers produce equivalent code for <em>for</em> and <em>while</em>.<a href="#fnref12" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

<p>Copyright © 2021-2024 Swansea University. All rights reserved.</p></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/cpjobling\.github\.io\/eg-151-textbook");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../lectures/week03/index.html" class="pagination-link" aria-label="Introduction to Programming and Program Development">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Introduction to Programming and Program Development</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../lectures/week05/index.html" class="pagination-link" aria-label="Interfacing to digital I/O with C">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Interfacing to digital I/O with C</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/cpjobling/eg-151-textbook/edit/main/website/lectures/week04/index.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/cpjobling/eg-151-textbook/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>